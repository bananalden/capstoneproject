{% extends "cashier/cashiersidebar.html" %}
{%load static%}
{% block title %} Transaction History
{%endblock title %}
{% block content %}

<div class="container">
      <h1>Transaction History</h1>
      <div class="filters">
        <div class="search-bar">
          <input
            type="text"
            id="searchInput"
            placeholder="Search by Name or Transaction ID..."
          />
        </div>
        <div class="filter-options">
          <select id="filterPurpose">
            <option value="">Filter by Purpose</option>
            <option value="Tuition Fee">Tuition Fee</option>
            <option value="Library Fee">Library Fee</option>
            <option value="Sports Fee">Sports Fee</option>
            <option value="Graduation Fee">Graduation Fee</option>
          </select>
          <select id="filterDate">
            <option value="">Filter by Date</option>
            <option value="2025-01-01">2025-01-01</option>
            <option value="2025-01-05">2025-01-05</option>
            <option value="2025-01-10">2025-01-10</option>
            <option value="2025-01-15">2025-01-15</option>
          </select>
        </div>
      </div>

      <div class="table-container">
        <table id="transactionTable">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Name</th>
              <th>Date</th>
              <th>Purpose of Payment</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
          {%for transaction in transactions%}
            <tr>
              <td>{{transaction.student.username}}</td>
              <td>{{transaction.student.first_name}} {{transaction.student.last_name}}</td>
              <td>{{transaction.date_time}}</td>
              <td>{{transaction.payment_purpose.payment_purpose}}</td>
              <td><button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#reviewPayment">Review Payment</button></td>
            </tr>
            {%endfor%}
        </tbody>
        </table>
        <div class="no-results" id="noResults" style="display: none">
          No matching records found
        </div>
      </div>
    </div>


    <div class="modal fade" id="reviewPayment" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>

{% endblock content %}


